---
import BaseLayout from '../layouts/BaseLayout.astro';

/**
 * 作品数据格式规范
 * 后续按此格式填充真实内容
 */
interface Work {
  title: string;           // 项目名称
  description: string;     // 项目简介，50字以内
  url?: string;            // 项目访问链接（可选）
  github?: string;         // GitHub 仓库链接（可选）
  tags: string[];          // 技术标签
  image?: string;          // 预览图片路径（可选）
}

// Mock 数据 - 后续替换为真实内容
const works: Work[] = [
  {
    title: "Digital Warehouse",
    description: "软件收藏管理系统，支持标签分类、AI 自动标注",
    url: "https://example.com/digital-warehouse",
    github: "https://github.com/username/digital-warehouse",
    tags: ["Swift", "macOS", "PocketBase"],
  },
  {
    title: "SoftwarePublisher",
    description: "自动化博客发布工具，将软件收藏转换为文章",
    github: "https://github.com/username/software-publisher",
    tags: ["Next.js", "TypeScript", "AI"],
  },
  {
    title: "Browser Extension",
    description: "浏览器扩展，一键收藏网页到软件仓库",
    tags: ["Plasmo", "Chrome Extension", "React"],
  },
];
---

<BaseLayout title="作品">
  <section class="works-header">
    <h1>作品</h1>
    <p class="intro">我开发的一些软件工具</p>
  </section>

  <section class="works-grid">
    {works.map((work) => (
      <article class="work-card">
        {work.image && (
          <div class="work-image">
            <img src={work.image} alt={work.title} />
          </div>
        )}
        <div class="work-content">
          <h2>{work.title}</h2>
          <p class="work-description">{work.description}</p>
          <div class="work-tags">
            {work.tags.map((tag) => (
              <span class="tag">{tag}</span>
            ))}
          </div>
          <div class="work-links">
            {work.url && (
              <a href={work.url} target="_blank" rel="noopener noreferrer" class="link-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                  <polyline points="15 3 21 3 21 9"/>
                  <line x1="10" y1="14" x2="21" y2="3"/>
                </svg>
                访问
              </a>
            )}
            {work.github && (
              <a href={work.github} target="_blank" rel="noopener noreferrer" class="link-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
                </svg>
                GitHub
              </a>
            )}
          </div>
        </div>
      </article>
    ))}
  </section>
</BaseLayout>

<style>
  .works-header {
    margin-bottom: 3rem;
  }

  h1 {
    margin-bottom: 0.5rem;
  }

  .intro {
    color: var(--color-text-muted);
    font-size: 1.1rem;
  }

  .works-grid {
    display: grid;
    gap: 1.5rem;
  }

  .work-card {
    background: var(--color-card);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    overflow: hidden;
    transition: border-color 0.2s, transform 0.2s;
  }

  .work-card:hover {
    border-color: var(--color-primary);
    transform: translateY(-2px);
  }

  .work-image {
    width: 100%;
    height: 180px;
    overflow: hidden;
    background: var(--color-bg);
  }

  .work-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .work-content {
    padding: 1.5rem;
  }

  .work-content h2 {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    color: var(--color-text);
  }

  .work-description {
    color: var(--color-text-muted);
    font-size: 0.95rem;
    margin-bottom: 1rem;
    line-height: 1.6;
  }

  .work-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .tag {
    font-size: 0.75rem;
    padding: 0.25rem 0.75rem;
    background: var(--color-primary);
    color: white;
    border-radius: 9999px;
    opacity: 0.9;
  }

  .work-links {
    display: flex;
    gap: 0.75rem;
  }

  .link-button {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.875rem;
    color: var(--color-text-muted);
    padding: 0.5rem 1rem;
    border: 1px solid var(--color-border);
    border-radius: 8px;
    transition: all 0.2s;
  }

  .link-button:hover {
    color: var(--color-text);
    border-color: var(--color-primary);
    background: var(--color-primary);
    background: rgba(99, 102, 241, 0.1);
  }

  .link-button svg {
    flex-shrink: 0;
  }

  @media (min-width: 640px) {
    .works-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .works-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>

